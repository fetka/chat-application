package com.example.chat_application.task;

import com.example.chat_application.task.authentication.RegisterAuthenticationAgentEnv;
import com.example.chat_application.task.authentication.SetConfigurationEnv;
import jakarta.xml.bind.JAXBContext;
import jakarta.xml.bind.JAXBException;
import jakarta.xml.bind.Unmarshaller;
import java.io.StringReader;
import org.junit.jupiter.api.Test;

public class TaskAuthenticationService {

  @Test
  public void unMarshallerRegisterAuthenticationAgent() throws JAXBException {
    JAXBContext jaxbContext = JAXBContext.newInstance(RegisterAuthenticationAgentEnv.class);
    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();

    RegisterAuthenticationAgentEnv agentEnv = (RegisterAuthenticationAgentEnv) unmarshaller.unmarshal(
        new StringReader(authNAgentData));

    System.out.println(agentEnv.getBody().getRegisterAuthenticationAgent().getAuthenticationAgentRecord().getServerContextId());
  }

  @Test
  public void unMarshallerSetConfiguration() throws JAXBException {
    JAXBContext jaxbContext = JAXBContext.newInstance(SetConfigurationEnv.class);
    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();

    SetConfigurationEnv agentEnv = (SetConfigurationEnv) unmarshaller.unmarshal(
        new StringReader(setConfigData));

    System.out.println(agentEnv);
  }

  String authNAgentData = """
      <?xml version='1.0' encoding='UTF-8'?><S:Envelope xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"><env:Header><Action xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\" env:mustUnderstand=\"true\">http://www.hp.com/schemas/imaging/OXPd/service/authentication/2013/03/01/IAuthenticationService/RegisterAuthenticationAgent</Action><MessageID xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\">uuid:b0f8c271-3235-4c7e-adbf-48caa7cc8425</MessageID><ReplyTo xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\"><Address>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</Address></ReplyTo><To xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\" env:mustUnderstand=\"true\">https://70.215.190.20:7627/hp/device/webservices/OXPd/AuthenticationService</To></env:Header><S:Body xmlns=\"http://www.hp.com/schemas/imaging/OXPd/common/2010/04/14\" xmlns:ns2=\"http://www.hp.com/schemas/imaging/OXPd/service/authentication/2013/03/01\"><ns2:RegisterAuthenticationAgent><ns2:authenticationAgentRecord><ns2:id>9941eaac-0c3e-4b52-b394-f93a3a734174</ns2:id><ns2:name>Printix</ns2:name><ns2:localizedName><LocalizedString><code>en-US</code><value>Printix</value></LocalizedString></ns2:localizedName><ns2:localizedDescription><LocalizedString><code>en-US</code><value>Printix Authentication Agent</value></LocalizedString></ns2:localizedDescription><ns2:authenticationAgent><uri>https://on-device-api.dev03.printix.dev/ws/oxpd/jackson/tenants/9e7e155d-4c0e-4197-bb36-b9be373ad593/devices/b6bd854b-ddd0-4a56-b471-1c1a9bbb41d0/preprompt</uri><binding>Soap12</binding><networkCredentials><userName>b6bd854b-ddd0-4a56-b471-1c1a9bbb41d0</userName><password>MYa9QRv1ysfJqVcjZgtRDNfgS0wxOp6hsTUQ6eXB4hA8OvlAdlLRaUmX</password></networkCredentials><connectionTimeout>60</connectionTimeout><responseTimeout>60</responseTimeout></ns2:authenticationAgent><ns2:enablePrePromptCheck>true</ns2:enablePrePromptCheck><ns2:userPromptTarget><webApplication xmlns=\"http://www.hp.com/schemas/imaging/OXPd/common/2010/04/14\"><uri>https://on-device-api.dev03.printix.dev/ws/oxpd/jackson/tenants/9e7e155d-4c0e-4197-bb36-b9be373ad593/devices/b6bd854b-ddd0-4a56-b471-1c1a9bbb41d0/signin/index.html</uri><binding>Plain</binding><networkCredentials><userName>b6bd854b-ddd0-4a56-b471-1c1a9bbb41d0</userName><password>MYa9QRv1ysfJqVcjZgtRDNfgS0wxOp6hsTUQ6eXB4hA8OvlAdlLRaUmX</password></networkCredentials></webApplication></ns2:userPromptTarget><ns2:enableSignoutNotification>true</ns2:enableSignoutNotification><ns2:signoutNotificationMaxRetries>3</ns2:signoutNotificationMaxRetries><ns2:signoutNotificationRetryInterval>3</ns2:signoutNotificationRetryInterval><ns2:serverContextId>56bc1aa2-0beb-4e43-86e4-af1ef5f6e612</ns2:serverContextId></ns2:authenticationAgentRecord></ns2:RegisterAuthenticationAgent></S:Body></S:Envelope>
      """;

  String setConfigData = """
      <?xml version='1.0' encoding='UTF-8'?><S:Envelope xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"><env:Header><Action xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\" env:mustUnderstand=\"true\">http://www.hp.com/schemas/imaging/OXPd/service/authorization/2013/03/01/IAuthorizationService/SetConfiguration</Action><MessageID xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\">uuid:ce4bee9b-d758-47d9-bf7e-984897197641</MessageID><ReplyTo xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\"><Address>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</Address></ReplyTo><To xmlns=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\" env:mustUnderstand=\"true\">https://70.215.190.20:7627/hp/device/webservices/OXPd/AuthorizationService</To></env:Header><S:Body xmlns=\"http://www.hp.com/schemas/imaging/OXPd/common/2010/04/14\" xmlns:ns2=\"http://www.hp.com/schemas/imaging/OXPd/service/authorization/2013/03/01\" xmlns:ns3=\"http://www.hp.com/schemas/imaging/OXPd/domain/security/2013/03/01\"><ns2:SetConfiguration><ns2:proxyConfiguration><ns2:id>b32cd378-3036-4729-bbc9-ee558e59ae36</ns2:id><ns2:name>Printix Go</ns2:name><ns2:localizedName><LocalizedString><code>en-US</code><value>Printix Go</value></LocalizedString></ns2:localizedName><ns2:localizedDescription><LocalizedString><code>en-US</code><value>Printix Go</value></LocalizedString></ns2:localizedDescription><ns2:authorizationAgent><uri>https://on-device-api.dev03.printix.dev/ws/oxpd/jackson/tenants/9e7e155d-4c0e-4197-bb36-b9be373ad593/devices/b6bd854b-ddd0-4a56-b471-1c1a9bbb41d0/authz</uri><binding>Soap12</binding><networkCredentials><userName>b6bd854b-ddd0-4a56-b471-1c1a9bbb41d0</userName><password>MYa9QRv1ysfJqVcjZgtRDNfgS0wxOp6hsTUQ6eXB4hA8OvlAdlLRaUmX</password></networkCredentials><connectionTimeout>60</connectionTimeout><responseTimeout>60</responseTimeout></ns2:authorizationAgent><ns2:guestPermissionSet><ns3:PermissionId>fdc59fb8-3a54-426d-9f5a-2d9087233bb0</ns3:PermissionId><ns3:PermissionId>19363c7c-235e-4c78-8be3-fb4673d59b25</ns3:PermissionId><ns3:PermissionId>44aa632b-cfa3-4c10-8cab-697a9bef610b</ns3:PermissionId><ns3:PermissionId>3ecf76a7-4ebe-4265-8cdf-22f4f359daf9</ns3:PermissionId><ns3:PermissionId>dceabb35-81d0-4c5f-a2f8-4c9c318b043b</ns3:PermissionId><ns3:PermissionId>74425807-8557-49ae-820c-ce203f15e96b</ns3:PermissionId><ns3:PermissionId>5d1f0b3f-131e-4901-9807-a17d21ed11ba</ns3:PermissionId><ns3:PermissionId>91241b7e-cc42-11d7-b4b1-00306e482828</ns3:PermissionId><ns3:PermissionId>00aed7aa-fc3b-4d18-81dd-e46365576f6a</ns3:PermissionId><ns3:PermissionId>84fc50f6-338d-4f5c-baba-e3a90418f364</ns3:PermissionId><ns3:PermissionId>09866970-7133-404f-bb20-440b9148e8e2</ns3:PermissionId><ns3:PermissionId>1bd63e89-82c9-4360-82c6-1fe9b4241247</ns3:PermissionId><ns3:PermissionId>f22bab25-0bde-4983-9e28-24e536f13981</ns3:PermissionId><ns3:PermissionId>e56b78b2-5081-4473-9761-f90c79cca974</ns3:PermissionId><ns3:PermissionId>5af2a754-d27c-40a4-a56d-2e7191def383</ns3:PermissionId><ns3:PermissionId>efb5ad4c-591c-4c94-bacf-be5d87c917a3</ns3:PermissionId><ns3:PermissionId>965dabb4-8d1a-42df-943a-74c368a4c144</ns3:PermissionId><ns3:PermissionId>a9e3da1b-8173-419f-bd6a-2cc325567c4c</ns3:PermissionId><ns3:PermissionId>87550e5e-f927-11df-950b-00306e48bff7</ns3:PermissionId><ns3:PermissionId>eb70fc52-81a7-4261-9978-f31c09ed87dc</ns3:PermissionId><ns3:PermissionId>1d073e3c-7bd1-4269-b029-4e26c17c65b8</ns3:PermissionId><ns3:PermissionId>a5e59604-d216-4977-a901-4774fcacbcb4</ns3:PermissionId><ns3:PermissionId>cedab422-33b3-4638-b6a1-604e54525215</ns3:PermissionId><ns3:PermissionId>d5e988c7-c39c-4e77-b53f-51c6fdea210a</ns3:PermissionId><ns3:PermissionId>6b27ea0c-5311-4ce7-b0a8-aa4d21afe76b</ns3:PermissionId><ns3:PermissionId>b35a7519-0680-46cd-834c-3096ab8a8692</ns3:PermissionId><ns3:PermissionId>8b99a8ad-9432-48a1-baca-22b0df6c65e4</ns3:PermissionId><ns3:PermissionId>7bb1b399-d731-4f3e-a013-82ce9ea9434f</ns3:PermissionId><ns3:PermissionId>81fbf819-ac36-481d-8736-c66a20a3ce75</ns3:PermissionId><ns3:PermissionId>a12676bb-aa09-44bf-9608-a8d14cde50d7</ns3:PermissionId><ns3:PermissionId>535ea693-db6d-4beb-b548-f1693460eab3</ns3:PermissionId><ns3:PermissionId>7e162dc5-a9af-4af2-b3a3-48c2d6e6bb7b</ns3:PermissionId><ns3:PermissionId>cca06313-14f0-4e13-a2cf-97c38abb1d73</ns3:PermissionId><ns3:PermissionId>74d83bcd-0cd0-4f89-aca5-39df93cb0b0d</ns3:PermissionId><ns3:PermissionId>8591cb93-584c-43db-af22-eb9a817add9c</ns3:PermissionId><ns3:PermissionId>c33fdc04-682f-43ab-9f70-fdedfdc1d74b</ns3:PermissionId><ns3:PermissionId>d6c8dbb4-0cea-4147-b8a7-0cffd9c3ca90</ns3:PermissionId><ns3:PermissionId>1a2d31a0-b6c8-4497-a708-707792bd2609</ns3:PermissionId><ns3:PermissionId>e4835c1f-7f0e-446b-9fc2-f18ef145698f</ns3:PermissionId><ns3:PermissionId>c4fc5dcf-d03f-46e0-8e42-085ec5c3c108</ns3:PermissionId><ns3:PermissionId>a639160a-7b18-4c02-b4a4-00b9026f00d6</ns3:PermissionId><ns3:PermissionId>5f85357c-1202-4d1b-8445-e0224456c57a</ns3:PermissionId><ns3:PermissionId>aa531833-f8e7-453b-b81d-fb827098c5f0</ns3:PermissionId><ns3:PermissionId>4d1dc259-0d38-4bfd-b121-b11c22bc67bc</ns3:PermissionId><ns3:PermissionId>52099d81-6fd5-481f-84ef-588c8ce39a3c</ns3:PermissionId><ns3:PermissionId>1047e094-c564-4bcc-8a14-370bfddfb796</ns3:PermissionId><ns3:PermissionId>4692a241-8998-4aa8-9d31-1f8ccb43ea14</ns3:PermissionId><ns3:PermissionId>d544b0ba-a3fb-4911-a82b-bf4f891b3308</ns3:PermissionId><ns3:PermissionId>7389ff49-20e5-41ff-9b96-5c1df60d7e67</ns3:PermissionId><ns3:PermissionId>A935C131-CBE6-4d09-9AC2-624C12A9033B</ns3:PermissionId><ns3:PermissionId>8a31ba78-dd0d-11d9-83a3-00306e2bb999</ns3:PermissionId><ns3:PermissionId>3c40cf32-1d3d-4051-9ba2-0a7b839b0288</ns3:PermissionId><ns3:PermissionId>7b8e9297-1c88-4316-b1c8-ed7a5b8eb4c7</ns3:PermissionId><ns3:PermissionId>a4dfaedc-7724-48ea-948a-5cd7b11407f0</ns3:PermissionId><ns3:PermissionId>6d777dcb-f62b-4cec-b536-c39078e14fc5</ns3:PermissionId><ns3:PermissionId>eca4c819-4f03-458c-9aff-62f4be730e0b</ns3:PermissionId><ns3:PermissionId>68bccf58-bfd7-422e-9788-29a36dc061cd</ns3:PermissionId><ns3:PermissionId>3c06acc4-f0e9-4248-8933-4aa500cee7b8</ns3:PermissionId><ns3:PermissionId>016d46c6-5a3a-4646-910d-0ede122b949e</ns3:PermissionId><ns3:PermissionId>922cd28d-77a8-47a8-85c4-f117f5f69c82</ns3:PermissionId><ns3:PermissionId>8e5bbd50-c488-4791-9bd1-c84b339014e5</ns3:PermissionId><ns3:PermissionId>d41cc382-c023-46dc-b722-4178a599901a</ns3:PermissionId><ns3:PermissionId>12642a24-5e74-41a2-a154-20d20436abee</ns3:PermissionId><ns3:PermissionId>c06c4eaf-1226-4082-aad2-582dbbaceb61</ns3:PermissionId><ns3:PermissionId>e402dfff-566a-45c9-a0d3-18350436666e</ns3:PermissionId><ns3:PermissionId>f753d9a7-c4fc-47c8-abd3-49d901528f29</ns3:PermissionId><ns3:PermissionId>1d370ecf-fb74-44ae-8934-39740a6911ed</ns3:PermissionId><ns3:PermissionId>ff217942-3d41-4c9d-b270-a49b987fe104</ns3:PermissionId><ns3:PermissionId>ee19ffb2-d93c-42ab-a23b-b868a63304a3</ns3:PermissionId><ns3:PermissionId>978af7de-4501-4709-b4e6-ecc056d41917</ns3:PermissionId><ns3:PermissionId>d8a96619-9aba-4249-afac-b2db90d0ca8b</ns3:PermissionId><ns3:PermissionId>34876b06-05be-4044-b61c-40cca9dfe4cb</ns3:PermissionId><ns3:PermissionId>4044fe20-84a3-4314-a708-35626144609b</ns3:PermissionId><ns3:PermissionId>57325ed2-49cd-4253-86f4-dc9af7103bda</ns3:PermissionId><ns3:PermissionId>3dfe6950-5cf9-41c2-a3b2-6154868ab45d</ns3:PermissionId><ns3:PermissionId>b532012c-4017-472a-97d7-625f628bf75b</ns3:PermissionId><ns3:PermissionId>b8460c9e-43c8-4290-a0f8-8ce450867f09</ns3:PermissionId><ns3:PermissionId>4fdcd8b2-6e7e-44da-924a-85981a727c1b</ns3:PermissionId><ns3:PermissionId>1502c3b6-db02-4010-ab27-a9a11f353ff0</ns3:PermissionId><ns3:PermissionId>ef4dbcd9-34d5-46e2-af53-1bacda9e2a34</ns3:PermissionId><ns3:PermissionId>fbd10c44-f550-498a-bfa0-b7e634afa551</ns3:PermissionId><ns3:PermissionId>d13fe446-6403-40c4-8f95-c734978d3dd3</ns3:PermissionId><ns3:PermissionId>07799ea1-52ea-4cc8-8dbf-1458dc2f39d1</ns3:PermissionId><ns3:PermissionId>7deecd46-5c05-4ce7-9c23-0c6fa1d5fc01</ns3:PermissionId><ns3:PermissionId>a062b6d9-8475-4663-8bbf-c9ed15e8d460</ns3:PermissionId><ns3:PermissionId>bca81cac-3f14-4f32-ac00-185dd58dc3e1</ns3:PermissionId><ns3:PermissionId>4068badd-7fa0-4c8f-b875-bf7e04dec26e</ns3:PermissionId><ns3:PermissionId>ed979c88-86e4-422a-9842-6da6d53b431b</ns3:PermissionId><ns3:PermissionId>68147198-5521-46ed-bec1-1b395f993f1a</ns3:PermissionId><ns3:PermissionId>cdd8157e-c605-473d-939b-98994607a436</ns3:PermissionId><ns3:PermissionId>5a707440-966b-4598-9c9b-29b08838d9a7</ns3:PermissionId><ns3:PermissionId>a3d696df-b7ff-4d3d-9969-5cd7f18c0c92</ns3:PermissionId><ns3:PermissionId>900a0d59-533a-497e-8e89-2b5bc898d5cc</ns3:PermissionId><ns3:PermissionId>1fc3f42a-f887-461c-a27a-66a73156308a</ns3:PermissionId><ns3:PermissionId>573619b2-7527-48b7-9ef7-ea0dcca519b5</ns3:PermissionId><ns3:PermissionId>69dd2781-34e5-4abe-b170-c7bf2ef5696c</ns3:PermissionId><ns3:PermissionId>65acca51-619d-4e29-b1d0-6414e52f908b</ns3:PermissionId><ns3:PermissionId>defd075a-d6a7-498e-9efb-4b9465a8c091</ns3:PermissionId><ns3:PermissionId>2565f335-e4ad-4cde-966d-30d9f3f1999f</ns3:PermissionId><ns3:PermissionId>c980a35a-3e93-4971-b8c6-f76cbfbeedcf</ns3:PermissionId><ns3:PermissionId>0B6044EA-3851-440A-94B8-0C6790729201</ns3:PermissionId><ns3:PermissionId>EE0DB66A-DEA1-4A9C-8F32-61930B6385AA</ns3:PermissionId><ns3:PermissionId>56ce9217-377d-4d5c-a950-a2ad37c07882</ns3:PermissionId><ns3:PermissionId>f69557b5-82f6-4269-894c-1b4046a0a92a</ns3:PermissionId></ns2:guestPermissionSet><ns2:addNewPermissionToGuestPermissionSet>false</ns2:addNewPermissionToGuestPermissionSet><ns2:defaultSignInMethod>9941eaac-0c3e-4b52-b394-f93a3a734174</ns2:defaultSignInMethod><ns2:enableSignInChoice>false</ns2:enableSignInChoice><ns2:enableChangeNotification>true</ns2:enableChangeNotification><ns2:changeNotificationMaxRetries>5</ns2:changeNotificationMaxRetries><ns2:changeNotificationRetryInterval>10</ns2:changeNotificationRetryInterval><ns2:serverContextId>33eb9304-2cd8-4c3a-856a-f8341f3c1484</ns2:serverContextId></ns2:proxyConfiguration></ns2:SetConfiguration></S:Body></S:Envelope>
      """;
}
